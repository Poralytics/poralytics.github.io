<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reports - NEXUS</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Orbitron:wght@600;700;800&display=swap" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --bg-primary: #0a0e27;
  --bg-card: #1a1f3a;
  --accent-blue: #00d4ff;
  --accent-purple: #8b5cf6;
  --text-primary: #e2e8f0;
  --text-secondary: #94a3b8;
  --border: rgba(148, 163, 184, 0.1);
  --success: #10b981;
  --warning: #f59e0b;
  --danger: #ef4444;
}

body {
  font-family: 'DM Sans', sans-serif;
  background: linear-gradient(135deg, #0a0e27 0%, #111632 50%, #0a0e27 100%);
  color: var(--text-primary);
}

.app { display: grid; grid-template-columns: 280px 1fr; min-height: 100vh; }

.sidebar {
  background: rgba(26, 31, 58, 0.6);
  backdrop-filter: blur(20px);
  border-right: 1px solid var(--border);
  padding: 2rem 0;
  position: fixed;
  width: 280px;
  height: 100vh;
  overflow-y: auto;
}

.logo {
  padding: 0 1.5rem;
  margin-bottom: 3rem;
  display: flex;
  align-items: center;
  gap: 1rem;
}

.logo-icon {
  width: 48px;
  height: 48px;
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
}

.logo-text {
  font-family: 'Orbitron', sans-serif;
  font-size: 1.75rem;
  font-weight: 800;
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.nav-section { margin-bottom: 2rem; }
.nav-title {
  padding: 0 1.5rem;
  font-size: 0.75rem;
  font-weight: 700;
  color: var(--text-secondary);
  text-transform: uppercase;
  margin-bottom: 0.75rem;
}

.nav-item {
  padding: 1rem 1.5rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  color: var(--text-secondary);
  text-decoration: none;
  transition: all 0.3s;
  cursor: pointer;
}

.nav-item.active { background: rgba(0, 212, 255, 0.1); color: var(--accent-blue); }
.nav-item i { width: 24px; text-align: center; }

.main { margin-left: 280px; padding: 2rem; }

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid var(--border);
}

.header h1 {
  font-family: 'Orbitron', sans-serif;
  font-size: 2.25rem;
  font-weight: 800;
  background: linear-gradient(90deg, var(--text-primary), var(--accent-blue));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 10px;
  border: none;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-family: 'DM Sans', sans-serif;
}

.btn-primary {
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
  color: white;
}

.btn-primary:hover { transform: translateY(-2px); }

.reports-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.report-card {
  background: rgba(26, 31, 58, 0.6);
  backdrop-filter: blur(20px);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 2rem;
  transition: all 0.3s;
  cursor: pointer;
}

.report-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
}

.report-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.report-icon {
  width: 56px;
  height: 56px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.75rem;
  background: rgba(0, 212, 255, 0.1);
  color: var(--accent-blue);
}

.report-title {
  font-size: 1.25rem;
  font-weight: 700;
}

.report-description {
  color: var(--text-secondary);
  font-size: 0.875rem;
  line-height: 1.6;
  margin-bottom: 1.5rem;
}

.report-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 1rem;
  border-top: 1px solid var(--border);
}

.report-type {
  font-size: 0.875rem;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-sm {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

.scheduled-reports {
  background: rgba(26, 31, 58, 0.6);
  backdrop-filter: blur(20px);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 2rem;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
}

.section-title {
  font-size: 1.25rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.scheduled-item {
  padding: 1.25rem;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 12px;
  margin-bottom: 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.scheduled-info h4 {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.scheduled-meta {
  font-size: 0.875rem;
  color: var(--text-secondary);
  display: flex;
  gap: 1.5rem;
}

.scheduled-actions {
  display: flex;
  gap: 0.5rem;
}

.btn-icon {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: rgba(26, 31, 58, 0.8);
  border: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--text-secondary);
  transition: all 0.3s;
}

.btn-icon:hover {
  background: rgba(0, 212, 255, 0.1);
  border-color: var(--accent-blue);
  color: var(--accent-blue);
}

.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(10, 14, 39, 0.8);
  backdrop-filter: blur(10px);
  z-index: 1000;
  align-items: center;
  justify-content: center;
}

.modal.active { display: flex; }

.modal-content {
  background: rgba(26, 31, 58, 0.95);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 2rem;
  max-width: 600px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
}

.modal-title { font-size: 1.5rem; font-weight: 700; }

.modal-close {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  background: rgba(239, 68, 68, 0.1);
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--danger);
}

.form-group { margin-bottom: 1.5rem; }

.form-label {
  display: block;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 0.5rem;
  text-transform: uppercase;
}

.form-input, .form-select, .form-textarea {
  width: 100%;
  padding: 0.875rem;
  background: rgba(15, 23, 42, 0.5);
  border: 1px solid var(--border);
  border-radius: 10px;
  color: var(--text-primary);
  font-family: 'DM Sans', sans-serif;
}

.form-textarea {
  min-height: 100px;
  resize: vertical;
}

.checkbox-group {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.75rem;
}

.checkbox-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 8px;
}

.checkbox-item input {
  width: 18px;
  height: 18px;
  cursor: pointer;
}

.modal-actions {
  display: flex;
  gap: 1rem;
  justify-content: flex-end;
  margin-top: 2rem;
}

.btn-secondary {
  background: rgba(26, 31, 58, 0.8);
  border: 1px solid var(--border);
  color: var(--text-secondary);
}
</style>
</head>
<body>

<div class="app">
  <aside class="sidebar">
    <div class="logo">
      <div class="logo-icon"><i class="fas fa-shield-alt"></i></div>
      <span class="logo-text">NEXUS</span>
    </div>
    
    <nav>
      <div class="nav-section">
        <div class="nav-title">Overview</div>
        <a href="dashboard-ultimate.html" class="nav-item">
          <i class="fas fa-th-large"></i>
          <span>Dashboard</span>
        </a>
      </div>
      
      <div class="nav-section">
        <div class="nav-title">Security</div>
        <a href="assets.html" class="nav-item">
          <i class="fas fa-server"></i>
          <span>Assets</span>
        </a>
        <a href="vulnerabilities.html" class="nav-item">
          <i class="fas fa-bug"></i>
          <span>Vulnerabilities</span>
        </a>
        <a href="scans.html" class="nav-item">
          <i class="fas fa-search"></i>
          <span>Security Scans</span>
        </a>
      </div>

      <div class="nav-section">
        <div class="nav-title">Management</div>
        <a href="#" class="nav-item active">
          <i class="fas fa-file-alt"></i>
          <span>Reports</span>
        </a>
        <a href="team.html" class="nav-item">
          <i class="fas fa-users"></i>
          <span>Team</span>
        </a>
        <a href="settings.html" class="nav-item">
          <i class="fas fa-cog"></i>
          <span>Settings</span>
        </a>
      </div>
    </nav>
  </aside>

  <main class="main">
    <header class="header">
      <div>
        <h1>Reports</h1>
        <p style="color: var(--text-secondary); margin-top: 0.5rem;">Generate and schedule security reports</p>
      </div>
      <button class="btn btn-primary" onclick="openScheduleModal()">
        <i class="fas fa-calendar-plus"></i>
        Schedule Report
      </button>
    </header>

    <!-- Report Templates -->
    <div class="reports-grid">
      <!-- Executive Summary -->
      <div class="report-card" onclick="generateReport('executive')">
        <div class="report-header">
          <div class="report-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <div>
            <div class="report-title">Executive Summary</div>
          </div>
        </div>
        <div class="report-description">
          High-level overview of security posture, key metrics, and critical findings for C-level executives.
        </div>
        <div class="report-meta">
          <div class="report-type">
            <i class="fas fa-file-pdf"></i>
            PDF · 5-10 pages
          </div>
          <button class="btn btn-primary btn-sm">
            <i class="fas fa-download"></i>
            Generate
          </button>
        </div>
      </div>

      <!-- Technical Report -->
      <div class="report-card" onclick="generateReport('technical')">
        <div class="report-header">
          <div class="report-icon" style="background: rgba(245, 158, 11, 0.1); color: var(--warning);">
            <i class="fas fa-code"></i>
          </div>
          <div>
            <div class="report-title">Technical Report</div>
          </div>
        </div>
        <div class="report-description">
          Detailed technical analysis including vulnerability details, code snippets, and remediation steps for security teams.
        </div>
        <div class="report-meta">
          <div class="report-type">
            <i class="fas fa-file-pdf"></i>
            PDF · 20-50 pages
          </div>
          <button class="btn btn-primary btn-sm">
            <i class="fas fa-download"></i>
            Generate
          </button>
        </div>
      </div>

      <!-- Compliance Report -->
      <div class="report-card" onclick="generateReport('compliance')">
        <div class="report-header">
          <div class="report-icon" style="background: rgba(139, 92, 246, 0.1); color: var(--accent-purple);">
            <i class="fas fa-check-circle"></i>
          </div>
          <div>
            <div class="report-title">Compliance Report</div>
          </div>
        </div>
        <div class="report-description">
          Compliance status against standards (ISO 27001, SOC 2, PCI-DSS) with evidence and gap analysis.
        </div>
        <div class="report-meta">
          <div class="report-type">
            <i class="fas fa-file-pdf"></i>
            PDF · 15-30 pages
          </div>
          <button class="btn btn-primary btn-sm">
            <i class="fas fa-download"></i>
            Generate
          </button>
        </div>
      </div>

      <!-- Vulnerability Report -->
      <div class="report-card" onclick="generateReport('vulnerability')">
        <div class="report-header">
          <div class="report-icon" style="background: rgba(239, 68, 68, 0.1); color: var(--danger);">
            <i class="fas fa-bug"></i>
          </div>
          <div>
            <div class="report-title">Vulnerability Report</div>
          </div>
        </div>
        <div class="report-description">
          Complete list of discovered vulnerabilities with CVSS scores, affected assets, and prioritized remediation plan.
        </div>
        <div class="report-meta">
          <div class="report-type">
            <i class="fas fa-file-pdf"></i>
            PDF · 10-25 pages
          </div>
          <button class="btn btn-primary btn-sm">
            <i class="fas fa-download"></i>
            Generate
          </button>
        </div>
      </div>

      <!-- Scan Results -->
      <div class="report-card" onclick="generateReport('scan')">
        <div class="report-header">
          <div class="report-icon" style="background: rgba(16, 185, 129, 0.1); color: var(--success);">
            <i class="fas fa-search"></i>
          </div>
          <div>
            <div class="report-title">Scan Results</div>
          </div>
        </div>
        <div class="report-description">
          Detailed results from latest security scans including methodology, findings, and recommendations.
        </div>
        <div class="report-meta">
          <div class="report-type">
            <i class="fas fa-file-pdf"></i>
            PDF · 8-15 pages
          </div>
          <button class="btn btn-primary btn-sm">
            <i class="fas fa-download"></i>
            Generate
          </button>
        </div>
      </div>

      <!-- Custom Report -->
      <div class="report-card" onclick="openCustomReportModal()">
        <div class="report-header">
          <div class="report-icon" style="background: rgba(59, 130, 246, 0.1); color: #3b82f6;">
            <i class="fas fa-sliders-h"></i>
          </div>
          <div>
            <div class="report-title">Custom Report</div>
          </div>
        </div>
        <div class="report-description">
          Build a custom report with specific sections, timeframes, and assets based on your requirements.
        </div>
        <div class="report-meta">
          <div class="report-type">
            <i class="fas fa-file-pdf"></i>
            PDF · Custom
          </div>
          <button class="btn btn-primary btn-sm">
            <i class="fas fa-cog"></i>
            Configure
          </button>
        </div>
      </div>
    </div>

    <!-- Scheduled Reports -->
    <div class="scheduled-reports">
      <div class="section-header">
        <div class="section-title">
          <i class="fas fa-calendar-check"></i>
          Scheduled Reports
        </div>
      </div>

      <div class="scheduled-item">
        <div class="scheduled-info">
          <h4>Weekly Executive Summary</h4>
          <div class="scheduled-meta">
            <span><i class="fas fa-clock"></i> Every Monday at 9:00 AM</span>
            <span><i class="fas fa-envelope"></i> executive@company.com</span>
            <span><i class="fas fa-check-circle" style="color: var(--success);"></i> Active</span>
          </div>
        </div>
        <div class="scheduled-actions">
          <button class="btn-icon" onclick="editSchedule(1)">
            <i class="fas fa-edit"></i>
          </button>
          <button class="btn-icon" onclick="pauseSchedule(1)">
            <i class="fas fa-pause"></i>
          </button>
          <button class="btn-icon" onclick="deleteSchedule(1)">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>

      <div class="scheduled-item">
        <div class="scheduled-info">
          <h4>Monthly Compliance Report</h4>
          <div class="scheduled-meta">
            <span><i class="fas fa-clock"></i> 1st of every month at 8:00 AM</span>
            <span><i class="fas fa-envelope"></i> compliance@company.com</span>
            <span><i class="fas fa-check-circle" style="color: var(--success);"></i> Active</span>
          </div>
        </div>
        <div class="scheduled-actions">
          <button class="btn-icon" onclick="editSchedule(2)">
            <i class="fas fa-edit"></i>
          </button>
          <button class="btn-icon" onclick="pauseSchedule(2)">
            <i class="fas fa-pause"></i>
          </button>
          <button class="btn-icon" onclick="deleteSchedule(2)">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
    </div>
  </main>
</div>

<!-- Schedule Report Modal -->
<div class="modal" id="scheduleModal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">Schedule Report</h2>
      <button class="modal-close" onclick="closeScheduleModal()">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <form id="scheduleForm">
      <div class="form-group">
        <label class="form-label">Report Type</label>
        <select class="form-select" required>
          <option value="">Choose type...</option>
          <option value="executive">Executive Summary</option>
          <option value="technical">Technical Report</option>
          <option value="compliance">Compliance Report</option>
          <option value="vulnerability">Vulnerability Report</option>
          <option value="scan">Scan Results</option>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">Frequency</label>
        <select class="form-select" required>
          <option value="daily">Daily</option>
          <option value="weekly">Weekly</option>
          <option value="monthly">Monthly</option>
          <option value="quarterly">Quarterly</option>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">Recipients (comma-separated emails)</label>
        <input type="text" class="form-input" placeholder="user1@company.com, user2@company.com" required>
      </div>

      <div class="modal-actions">
        <button type="button" class="btn btn-secondary" onclick="closeScheduleModal()">Cancel</button>
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-calendar-check"></i>
          Schedule
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Custom Report Modal -->
<div class="modal" id="customReportModal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">Custom Report Builder</h2>
      <button class="modal-close" onclick="closeCustomReportModal()">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <form id="customReportForm">
      <div class="form-group">
        <label class="form-label">Report Title</label>
        <input type="text" class="form-input" placeholder="Q4 2024 Security Assessment" required>
      </div>

      <div class="form-group">
        <label class="form-label">Include Sections</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" checked>
            <span>Executive Summary</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" checked>
            <span>Vulnerability Analysis</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox">
            <span>Scan Results</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox">
            <span>Compliance Status</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox">
            <span>Trend Analysis</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox">
            <span>Recommendations</span>
          </label>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">Time Period</label>
        <select class="form-select">
          <option value="7">Last 7 days</option>
          <option value="30" selected>Last 30 days</option>
          <option value="90">Last 90 days</option>
          <option value="custom">Custom Range</option>
        </select>
      </div>

      <div class="modal-actions">
        <button type="button" class="btn btn-secondary" onclick="closeCustomReportModal()">Cancel</button>
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-download"></i>
          Generate Report
        </button>
      </div>
    </form>
  </div>
</div>

<script>
const token = localStorage.getItem('token');
if (!token) window.location.href = '/';

function generateReport(type) {
  alert(`Generating ${type} report...\nThis will download a PDF in production.`);
}

function openScheduleModal() {
  document.getElementById('scheduleModal').classList.add('active');
}

function closeScheduleModal() {
  document.getElementById('scheduleModal').classList.remove('active');
}

function openCustomReportModal() {
  document.getElementById('customReportModal').classList.add('active');
}

function closeCustomReportModal() {
  document.getElementById('customReportModal').classList.remove('active');
}

document.getElementById('scheduleForm').addEventListener('submit', (e) => {
  e.preventDefault();
  alert('Report scheduled successfully!');
  closeScheduleModal();
});

document.getElementById('customReportForm').addEventListener('submit', (e) => {
  e.preventDefault();
  alert('Generating custom report...');
  closeCustomReportModal();
});

function editSchedule(id) {
  alert(`Edit schedule #${id}`);
}

function pauseSchedule(id) {
  if (confirm('Pause this scheduled report?')) {
    alert(`Schedule #${id} paused`);
  }
}

function deleteSchedule(id) {
  if (confirm('Delete this scheduled report?')) {
    alert(`Schedule #${id} deleted`);
  }
}
</script>
</body>
</html>
